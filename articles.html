<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Scarlet — Artigos</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="icon" type="image/x-icon" href="./favico.ico" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" id="prism-theme-light">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-dark.min.css" id="prism-theme-dark" disabled>
  <script>
    // Prism theme switching for dark/light mode
    function setPrismTheme(isDark) {
      const light = document.getElementById('prism-theme-light');
      const dark = document.getElementById('prism-theme-dark');
      if (isDark) {
        light.disabled = true;
        dark.disabled = false;
      } else {
        light.disabled = false;
        dark.disabled = true;
      }
    }

    function detectTheme() {
      return document.body.classList.contains('dark-mode');
    }

    function updatePrismTheme() {
      setPrismTheme(detectTheme());
    }

    // Initial theme
    document.addEventListener('DOMContentLoaded', updatePrismTheme);
    // Listen for theme toggle
    document.addEventListener('click', function(e) {
      if (e.target && e.target.classList.contains('theme-toggle')) {
        setTimeout(updatePrismTheme, 10);
      }
    });
  </script>
  <meta name="description" lang="pt-BR" content="Artigos de Scarlet — técnicos sobre SaaS, infraestrutura e devops.">
  <style>
    /* Reuse same styling as index.html (kept minimal and consistent) */
    :root {
      --bg-color: #ffffff;
      --text-color-primary: #374151;
      --text-color-headings: #111827;
      --text-color-secondary: #6b7280;
      --text-color-tertiary: #9ca3af;
      --border-color: #e5e7eb;
      --link-bg: #ffffff;
      --link-bg-hover: #f9fafb;
      --link-border: #e5e7eb;
      --link-border-hover: #d1d5db;
      --link-text: #1f2937;
    }

    .dark-mode {
      --bg-color: #111827;
      --text-color-primary: #d1d5db;
      --text-color-headings: #f9fafb;
      --text-color-secondary: #9ca3af;
      --text-color-tertiary: #6b7280;
      --border-color: #374151;
      --link-bg: #1f2937;
      --link-bg-hover: #374151;
      --link-border: #374151;
      --link-border-hover: #4b5563;
      --link-text: #f3f4f6;
    }

    * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      font-family: 'Karla', sans-serif;
      background-color: var(--bg-color);
      color: var(--text-color-primary);
      line-height: 1.6;
      transition: background-color 0.3s ease, color 0.3s ease;
    }

    .container { max-width: 800px; margin: 0 auto; padding: 20px; }

    .nav-header { display:flex; justify-content:space-between; align-items:center; margin-bottom: 20px; }
    .nav-title { font-weight:600; color:var(--text-color-headings); font-family:'Work Sans',sans-serif; }
    .nav-menu { display:flex; gap:10px; align-items:center; }
    .theme-toggle, .language-toggle { background:none; border:none; cursor:pointer; padding:6px; color:var(--text-color-secondary); }

    h1 { font-family:'Work Sans',sans-serif; font-size:24px; color:var(--text-color-headings); margin-bottom:8px; }
    .subtitle { color:var(--text-color-secondary); margin-bottom:18px; }

    .articles-list { margin-bottom: 20px; }
    .article-link { display:block; padding:12px 16px; border:1px solid var(--border-color); border-radius:10px; background:var(--link-bg); text-decoration:none; color:var(--link-text); margin-bottom:10px; }
    .article-link:hover { background:var(--link-bg-hover); border-color:var(--link-border-hover); }

    .article-card { padding:18px; border:1px solid var(--border-color); border-radius:12px; background:var(--link-bg); }
    .article-meta { color:var(--text-color-secondary); font-size:14px; margin-bottom:12px; }

    /* Markdown content styles */
    .markdown ul, .markdown ol {
      margin: 1em 0 1em 1.5em;
      padding-left: 1.2em;
      line-height: 1.7;
    }
    .markdown li {
      margin-bottom: 0.4em;
      padding-left: 0.2em;
      list-style-position: outside;
    }
    .markdown ul {
      list-style-type: disc;
    }
    .markdown ol {
      list-style-type: decimal;
    }
    .markdown h1, .markdown h2, .markdown h3 { color:var(--text-color-headings); margin: 1em 0 0.5em; }
    .markdown p { margin: 0.6em 0; }
    .markdown pre, pre[class*="language-"] {
      position: relative;
      background: #f5f5f5;
      color: #23272e;
      padding: 0;
      border-radius: 8px;
      overflow: auto;
      box-shadow: none;
      border: 1px solid #e5e7eb;
      font-size: 15px;
      margin: 1.2em 0;
      font-family: 'Fira Mono', 'Menlo', 'Monaco', 'Consolas', monospace;
      text-shadow: none !important;
      filter: none !important;
      transition: background 0.2s, color 0.2s, border 0.2s;
    }
    .markdown pre code, code[class*="language-"] {
      background: transparent;
      padding: 16px 18px 16px 18px;
      border-radius: 0 0 8px 8px;
      font-size: 15px;
      box-shadow: none;
      border: none;
      font-family: inherit;
      display: block;
      white-space: pre;
      overflow-x: auto;
      text-shadow: none !important;
      filter: none !important;
      transition: background 0.2s, color 0.2s;
    }
    .dark-mode .markdown pre, .dark-mode pre[class*="language-"] {
      background: #1e1e1e;
      color: #d4d4d4;
      border: 1px solid #23272e;
    }
    .dark-mode .markdown pre code, .dark-mode code[class*="language-"] {
      background: transparent;
      color: #d4d4d4;
    }
    .markdown pre .vsc-header {
      background: #23272e;
      color: #b5b5b5;
      font-size: 13px;
      font-family: 'Karla', 'Work Sans', sans-serif;
      padding: 6px 16px;
      border-top-left-radius: 8px;
      border-top-right-radius: 8px;
      border-bottom: 1px solid #23272e;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .dark-mode .markdown pre, .dark-mode pre[class*="language-"] {
      background: #1e1e1e;
      color: #d4d4d4;
      border: 1px solid #23272e;
    }
    .markdown a { color: #2563eb; }
    .markdown table {
      width: 100%;
      border-collapse: collapse;
      margin: 1em 0;
      background: var(--link-bg);
      border: 1px solid var(--link-border);
      border-radius: 8px;
      overflow: hidden;
    }
    .markdown th, .markdown td {
      padding: 8px 12px;
      border-bottom: 1px solid var(--border-color);
      text-align: left;
    }
    .markdown th {
      background: var(--link-bg-hover);
      font-weight: 600;
    }

    .search-section input, .search-section select {
      padding: 12px 16px;
      border: 1px solid var(--link-border);
      border-radius: 12px;
      background: var(--link-bg);
      color: var(--link-text);
      margin-right: 8px;
      margin-bottom: 8px;
    }
    .search-section input:focus, .search-section select:focus {
      outline: none;
      border-color: var(--link-border-hover);
    }
    .search-section label {
      margin-right: 8px;
      color: var(--text-color-secondary);
    }
    .search-section button {
      padding: 12px 16px;
      border: 1px solid var(--link-border);
      border-radius: 12px;
      background: var(--link-bg);
      color: var(--link-text);
      cursor: pointer;
      margin-left: 8px;
    }
    .search-section button:hover {
      border-color: var(--link-border-hover);
      background: var(--link-bg-hover);
    }

    .tag-badge {
      display: inline-block;
      padding: 6px 12px;
      background: var(--link-bg);
      color: var(--link-text);
      border: 1px solid var(--link-border);
      border-radius: 12px;
      font-size: 12px;
      margin: 2px;
      text-decoration: none;
      transition: all 0.15s ease;
    }
    .tag-badge:hover {
      border-color: var(--link-border-hover);
      background: var(--link-bg-hover);
      transform: translateY(-1px);
    }

    .modal {
      display: none;
      position: fixed;
      top: 0; left: 0; width: 100%; height: 100%;
      background: rgba(0,0,0,0.5);
      justify-content: center; align-items: center;
    }
    .modal-content {
      background: var(--bg-color);
      padding: 20px;
      border-radius: 12px;
      max-width: 400px;
      width: 90%;
    }
    .modal-tags { display: flex; flex-wrap: wrap; gap: 8px; }
  </style>
</head>

<body>
  <div class="container">
    <div class="nav-header">
      <div>
        <a href="index.html" class="nav-title">Scarlet Rose</a>
        <div class="subtitle" data-translate="subtitle">Arquiteta de Software</div>
      </div>
      <div class="nav-menu">
        <button class="theme-toggle" title="Toggle theme">🌙</button>
        <button class="language-toggle" title="Toggle language">🇧🇷</button>
      </div>
    </div>

    <h1 data-translate="articles_title">Artigos</h1>

    <div class="search-section" id="search-section" style="margin-bottom: 20px;">
      <input type="text" id="search-input" data-translate-placeholder="search_placeholder" placeholder="Buscar artigos..." style="width: 100%; padding: 10px; border: 1px solid var(--border-color); border-radius: 8px; background: var(--link-bg); color: var(--link-text);">
      <div style="margin-top: 10px;">
        <label data-translate="sort_by">Ordenar por:</label>
        <select id="sort-select">
          <option value="date-desc">Data (mais recente)</option>
          <option value="date-asc">Data (mais antigo)</option>
          <option value="title">Título</option>
        </select>
        <label data-translate="filter_date">Filtrar por data:</label>
        <input type="date" id="date-from"> - <input type="date" id="date-to">
      </div>
      <div id="tags-filter" style="margin-top: 10px;"><strong data-translate="filter_by_tag">Filtrar por tag:</strong> <a href="?">Todas</a> </div>
    </div>

    <div id="articles-root">
      <div class="articles-list" id="articles-list">
        <!-- list of known/sampled articles will be injected here -->
      </div>

      <div id="article-area" style="display:none">
        <button id="back-to-search" style="display:none;margin-bottom:18px;padding:10px 18px;border-radius:8px;border:1px solid var(--border-color);background:var(--link-bg);color:var(--link-text);font-weight:600;cursor:pointer;box-shadow:0 2px 8px #0001;">← Voltar para pesquisa</button>
        <div class="article-card">
          <h1 id="article-title" style="font-size:2.2em;margin-bottom:0.2em;font-family:'Work Sans',sans-serif;font-weight:700;line-height:1.1;"></h1>
          <div class="article-meta" id="article-meta"></div>
          <div id="article-content" class="markdown"></div>
        </div>
      </div>
  <script>
    // Show/hide search and article UI
    function showArticleUI(show, title) {
      document.getElementById('search-section').style.display = show ? 'none' : '';
      document.getElementById('back-to-search').style.display = show ? '' : 'none';
      document.getElementById('article-title').textContent = show && title ? title : '';
    }
    document.addEventListener('DOMContentLoaded', function() {
      var backBtn = document.getElementById('back-to-search');
      if (backBtn) {
        backBtn.onclick = function() {
          document.getElementById('article-area').style.display = 'none';
          showArticleUI(false);
          window.scrollTo({top:0,behavior:'smooth'});
        };
      }
    });
  </script>
    </div>

    <div style="height:40px"></div>

    <div id="tags-modal" class="modal">
      <div class="modal-content">
        <h3 data-translate="all_tags_title">Todas as Tags</h3>
        <div id="modal-tags" class="modal-tags"></div>
        <button onclick="closeModal()" style="padding: 12px 16px; border: 1px solid var(--link-border); border-radius: 12px; background: var(--link-bg); color: var(--link-text); cursor: pointer; margin-top: 16px;">Fechar</button>
      </div>
    </div>
  </div>

  <script src="translations.js"></script>
  <script src="script.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-javascript.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-bash.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-json.min.js"></script>
  <script src="articles.js"></script>
</body>

</html>